package com.spacecombat;

import android.content.Context;
import android.media.MediaPlayer;

public class Audio extends Component 
{
	private MediaPlayer mediaPlayer;
	
	public Audio (MediaPlayer mp)
	{
		if (mp == null)
		{
			throw new RuntimeException("MP can't be null!");
		}
		mediaPlayer = mp;
	}
	
	public void play()
	{
		if (!mediaPlayer.isPlaying())
		{
			mediaPlayer.seekTo(0);
			mediaPlayer.setLooping(true);
			mediaPlayer.start(); 
		}
	}
	
	public void playOnce()
	{		
		if (!mediaPlayer.isPlaying())
		{
			//mediaPlayer.seekTo(0);
		 	mediaPlayer.setLooping(false);
		 	mediaPlayer.start();
		}
	}
	
	public void pause()
	{
		mediaPlayer.pause();
	}
	
	public void stop()
	{
		mediaPlayer.pause();
		mediaPlayer.seekTo(0);
	}
	
	public void destroy()
	{
		if (mediaPlayer.isPlaying())
		{
			mediaPlayer.stop();
		}
		//mediaPlayer.release();
	}
}
